---
title: "A Look at VIX :2020-05-01"
author: Robert W. Walker
date: '2020-02-27'
slug: a-look-at-vix
categories:
  - R
  - tidyquant
tags: []
subtitle: ''
summary: ''
authors: []
lastmod: "2020-05-01 17:27:12"
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/pymjs/pym.v1.js"></script>
<script src="/rmarkdown-libs/widgetframe-binding/widgetframe.js"></script>


<div id="get-some-vix-data" class="section level1">
<h1>Get Some VIX data</h1>
<p><strong>NB: I originally wrote this on February 27, 2020 so there is commentary surrounding that date. It was done on the quick for curiosity.</strong> I will update it by recompiling it with new data and will update the commentary noting when it took place.</p>
<p>Chicago Board Of Exchange (CBOE) makes data available regularly. To judge the currency of the data, I have tailed it below after converting the dates to a valid date format.</p>
<pre class="r"><code>library(tidyverse)
VIX &lt;- read.csv(url(&quot;http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vixcurrent.csv&quot;), skip = 1)
VIX$Dates &lt;- as.Date(VIX$Date,
  format = &quot;%m/%d/%Y&quot;)
tail(VIX)</code></pre>
<pre><code>##            Date VIX.Open VIX.High VIX.Low VIX.Close      Dates
## 4106 04/24/2020    41.91    42.08   35.60     35.93 2020-04-24
## 4107 04/27/2020    36.29    36.44   32.51     33.29 2020-04-27
## 4108 04/28/2020    33.21    35.39   30.54     33.57 2020-04-28
## 4109 04/29/2020    32.48    33.19   30.71     31.23 2020-04-29
## 4110 04/30/2020    30.99    35.94   30.93     34.15 2020-04-30
## 4111 05/01/2020    38.17    39.57   36.59     37.19 2020-05-01</code></pre>
<p>The data was straightforward to get a hold of. Now let me plot it. I want to do this with a candlestick plot – a way of displaying intra-day volatility. There’s so much data that the views aren’t great.</p>
<pre class="r"><code>library(plotly)
# create the candlestick plot
fig &lt;- VIX  %&gt;% plot_ly(x = ~Dates, type=&quot;candlestick&quot;,
          open = ~VIX.Open, close = ~VIX.Close,
          high = ~VIX.High, low = ~VIX.Low) 
fig &lt;- fig %&gt;% layout(title = &quot;A Historical Look at VIX&quot;)
library(widgetframe)
# Need a frameWidget to render the underlying plotly object
frameWidget(fig, width = 1000)</code></pre>
<div id="htmlwidget-1" style="width:1000px;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"url":"/post/2020-02-27-a-look-at-vix/index_files/figure-html//widgets/widget_unnamed-chunk-2.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p><em>As an overall it has been worse, but keep in mind, that big blip happened TODAY!</em> What does it look like in perspective [keeping in mind that the futures are currently just under 40] since 2012?</p>
<pre class="r"><code>fig2 &lt;- VIX %&gt;% filter(Dates &gt; as.Date(&quot;01/01/2012&quot;, format = &quot;%m/%d/%Y&quot;)) %&gt;% plot_ly(x = ~Dates, type=&quot;candlestick&quot;,
          open = ~VIX.Open, close = ~VIX.Close,
          high = ~VIX.High, low = ~VIX.Low) 
fig2 &lt;- fig2 %&gt;% layout(title = &quot;VIX Since 2012&quot;)
frameWidget(fig2, width = 1000)</code></pre>
<div id="htmlwidget-2" style="width:1000px;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"url":"/post/2020-02-27-a-look-at-vix/index_files/figure-html//widgets/widget_unnamed-chunk-3.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<div id="day-to-day-changes" class="section level2">
<h2>Day to Day Changes?</h2>
<p>I will touch the file about daily to track the evolution.</p>
<pre class="r"><code>library(hrbrthemes); library(viridis)
VIX &lt;- VIX %&gt;% mutate(Percent.Change = (VIX.Close - lag(VIX.Close)) / lag(VIX.Close)) 
p &lt;- ggplot(VIX, aes(x=Dates, y=Percent.Change, size=Percent.Change/10, color=Percent.Change)) + 
  geom_point(alpha=0.5, shape=21, inherit.aes = TRUE) +
  scale_size_continuous(range=c(0.05,2), guide=FALSE) +
  geom_line() + 
  geom_smooth(color=&quot;orange&quot;, method=&quot;loess&quot;, span=0.05, se=FALSE) + 
  geom_vline(xintercept = as.Date(&quot;02/27/2020&quot;, format = &quot;%m/%d/%Y&quot;), color=&quot;red&quot;, alpha=0.2, linetype = &quot;dotted&quot;) + 
  geom_vline(xintercept = as.Date(&quot;09/12/2008&quot;, format = &quot;%m/%d/%Y&quot;), color=&quot;red&quot;, alpha=0.4) +
  geom_label(data = data.frame(x = as.Date(&quot;2008-02-12&quot;),
    y = 0.75, label = &quot;Lehman Brothers&quot;),mapping = aes(x = x, y = y, label = label), size = 3.86605783866058, angle = 0L, lineheight = 1L, hjust = 0.5, vjust = 0.5, colour = &quot;red&quot;, family = &quot;sans&quot;, fontface = &quot;plain&quot;, label.padding = structure(0.25, class = &quot;unit&quot;, valid.unit = 3L, unit = &quot;lines&quot;), label.size = 0.25, label.r = structure(0.15, class = &quot;unit&quot;, valid.unit = 3L, unit = &quot;lines&quot;), inherit.aes = FALSE, show.legend = FALSE) + 
  scale_color_viridis_c(guide=FALSE) +
  scale_fill_viridis_c(guide=FALSE) +
    theme_ipsum()
fig &lt;- ggplotly(p)
frameWidget(fig, width = 1000)</code></pre>
<div id="htmlwidget-3" style="width:1000px;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"url":"/post/2020-02-27-a-look-at-vix/index_files/figure-html//widgets/widget_unnamed-chunk-4.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p><em>NB: This commentary was in mid-March.</em> This doesn’t look good. The smooth on a small span is uncomfortably headed upward and today will shock it like no previous day in a very long while.</p>
</div>
</div>
