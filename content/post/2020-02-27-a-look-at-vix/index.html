---
title: "A Look at VIX :2020-03-17 20:11:37"
author: Robert W. Walker
date: '2020-02-27'
slug: a-look-at-vix
categories:
  - R
  - tidyquant
tags: []
subtitle: ''
summary: ''
authors: []
lastmod: "2020-03-17 20:11:37"
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/pymjs/pym.v1.js"></script>
<script src="/rmarkdown-libs/widgetframe-binding/widgetframe.js"></script>


<div id="get-some-vix-data" class="section level1">
<h1>Get Some VIX data</h1>
<p><strong>NB: I originally wrote this on February 27, 2020 so there is commentary surrounding that date. It was done on the quick for curiosity.</strong></p>
<p>Chicago Board Of Exchange (CBOE) makes data available regularly. To judge the currency of the data, I have tailed it below after converting the dates to a valid date format.</p>
<pre class="r"><code>library(tidyverse)
VIX &lt;- read.csv(url(&quot;http://www.cboe.com/publish/scheduledtask/mktdata/datahouse/vixcurrent.csv&quot;), skip = 1)
VIX$Dates &lt;- as.Date(VIX$Date,
  format = &quot;%m/%d/%Y&quot;)
tail(VIX)</code></pre>
<pre><code>##            Date VIX.Open VIX.High VIX.Low VIX.Close      Dates
## 4074 03/10/2020    49.68    55.66   43.56     47.30 2020-03-10
## 4075 03/11/2020    52.24    55.82   49.98     53.90 2020-03-11
## 4076 03/12/2020    61.46    76.83   59.91     75.47 2020-03-12
## 4077 03/13/2020    71.31    77.57   55.17     57.83 2020-03-13
## 4078 03/16/2020    57.83    83.56   57.83     82.69 2020-03-16
## 4079 03/17/2020    82.69    84.83   70.37     75.91 2020-03-17</code></pre>
<p>The data was straightforward to get a hold of. Now let me plot it. I want to do this with a candlestick plot – a way of displaying intra-day volatility. There’s so much data that the views aren’t great.</p>
<pre class="r"><code>library(plotly)
# create the candlestick plot
fig &lt;- VIX  %&gt;% plot_ly(x = ~Dates, type=&quot;candlestick&quot;,
          open = ~VIX.Open, close = ~VIX.Close,
          high = ~VIX.High, low = ~VIX.Low) 
fig &lt;- fig %&gt;% layout(title = &quot;A Historical Look at VIX&quot;)
library(widgetframe)
# Need a frameWidget to render the underlying plotly object
frameWidget(fig, width = 1000)</code></pre>
<div id="htmlwidget-1" style="width:1000px;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"url":"/post/2020-02-27-a-look-at-vix/index_files/figure-html//widgets/widget_unnamed-chunk-2.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p>As an overall it has been worse, but keep in mind, that big blip happened TODAY! What does it look like in perspective [keeping in mind that the futures are currently just under 40] since 2012?</p>
<pre class="r"><code>fig2 &lt;- VIX %&gt;% filter(Dates &gt; as.Date(&quot;01/01/2012&quot;, format = &quot;%m/%d/%Y&quot;)) %&gt;% plot_ly(x = ~Dates, type=&quot;candlestick&quot;,
          open = ~VIX.Open, close = ~VIX.Close,
          high = ~VIX.High, low = ~VIX.Low) 
fig2 &lt;- fig2 %&gt;% layout(title = &quot;VIX Since 2012&quot;)
frameWidget(fig2, width = 1000)</code></pre>
<div id="htmlwidget-2" style="width:1000px;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"url":"/post/2020-02-27-a-look-at-vix/index_files/figure-html//widgets/widget_unnamed-chunk-3.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<div id="day-to-day-changes" class="section level2">
<h2>Day to Day Changes?</h2>
<p>I will touch the file about daily to track the evolution.</p>
<pre class="r"><code>library(hrbrthemes); library(viridis)
VIX &lt;- VIX %&gt;% mutate(Percent.Change = (VIX.Close - lag(VIX.Close)) / lag(VIX.Close)) 
p &lt;- ggplot(VIX, aes(x=Dates, y=Percent.Change, size=Percent.Change/10, color=Percent.Change)) + 
  geom_point(alpha=0.5, shape=21, inherit.aes = TRUE) +
  scale_size_continuous(range=c(0.05,2), guide=FALSE) +
  geom_line() + 
  geom_smooth(color=&quot;orange&quot;, method=&quot;loess&quot;, span=0.05, se=FALSE) + 
  geom_vline(xintercept = as.Date(&quot;02/27/2020&quot;, format = &quot;%m/%d/%Y&quot;), color=&quot;red&quot;, alpha=0.2, linetype = &quot;dotted&quot;) + 
  geom_vline(xintercept = as.Date(&quot;09/12/2008&quot;, format = &quot;%m/%d/%Y&quot;), color=&quot;red&quot;, alpha=0.4) +
  geom_label(data = data.frame(x = as.Date(&quot;2008-02-12&quot;),
    y = 0.75, label = &quot;Lehman Brothers&quot;),mapping = aes(x = x, y = y, label = label), size = 3.86605783866058, angle = 0L, lineheight = 1L, hjust = 0.5, vjust = 0.5, colour = &quot;red&quot;, family = &quot;sans&quot;, fontface = &quot;plain&quot;, label.padding = structure(0.25, class = &quot;unit&quot;, valid.unit = 3L, unit = &quot;lines&quot;), label.size = 0.25, label.r = structure(0.15, class = &quot;unit&quot;, valid.unit = 3L, unit = &quot;lines&quot;), inherit.aes = FALSE, show.legend = FALSE) + 
  scale_color_viridis_c(guide=FALSE) +
  scale_fill_viridis_c(guide=FALSE) +
    theme_ipsum()
fig &lt;- ggplotly(p)
frameWidget(fig, width = 1000)</code></pre>
<div id="htmlwidget-3" style="width:1000px;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"url":"/post/2020-02-27-a-look-at-vix/index_files/figure-html//widgets/widget_unnamed-chunk-4.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p>This doesn’t look good. The smooth on a small span is uncomfortably headed upward and today will shock it like no previous day in a very long while.</p>
</div>
</div>
